{% extends('frontend/frontend.base.html.twig') %}

{% block title %}{{ post.title }} - Schülerblog Gymnasium Oesede{% endblock %}

{% block site_title %}{{ post.title }}{% endblock %}

{% block content %}

    <div class="image-container">
        <img src="{{ path('loadPostImage', {'post': post.id}) }}" ">
    </div>

    {% autoescape %}
        <p>{{ post.content | raw }}</p>
    {% endautoescape %}

    <h2>Kommentare</h2>
    {% if app.session is defined and app.session.get("can_comment") == false %}
        <p>Nur Schüler und Lehrer des Gymnasiums Oesede können Kommentare verfassen, für die Kommentare gilt die <a href="https://gymnasium-oesede.de/schulordnung/">Netiquette</a> des Gymnasiums Oesede
            Um einen Kommentar zu verfassen, muss ein Benutzer sich per IServ authentifizieren, dazu den Knopf "Mit IServ anmelden" verwenden
        </p>
        <button class="button iserv" onclick="window.location.href = '/api/auth/authenticate'">Mit IServ anmelden</button>
    {% else %}
        <div class="comment-form-container">
            {{ form_start(comment) }}
            {{ form_widget(comment) }}
            {{ form_end(comment) }}
        </div>
    {% endif %}

{% endblock %}